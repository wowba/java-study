## 김영한 실전 자바 기본 내용 정리

## 1. 클래스와 데이터

- 클래스
  - 객체가 가져야 할 속성과 기능을 정의.
  - 설계도인 클래스를 이용해서 실제 메모리에 만들어질 인스턴스를 만들 수 있다.
  - 클래스를 이용해 사용자가 원하는 종류의 데이터 타입을 정의할 수 있다.
- 객체
  - 클래스에서 정의한 속성과 기능을 가진 실체
  - 객체는 서로 독립적인 상태를 가진다.
- 인스턴스
  - 인스턴스는 특정 클래스로부터 생성된 객체를 의미
  - 인스턴스는 주로 객체가 어떤 클래스에 속해있는지 강조할 때 사용한다.
    - 즉 모든 인스턴스는 객체이지만, 특정 클래스로 생성한 객체를 가리킬 때는 인스턴스라고 칭한다.

## 2. 기본형과 참조형

데이터 타입은 기본형 / 참조형으로 구분할 수 있다.

- 기본형
  - 자바가 기본적으로 제공하는, 변수에 사용할 값을 직접 넣을 수 있는 데이터 타입
  - 기본형을 제외한 나머지는 모두 참조형이다.
  - 기본형은 모두 소문자로 시작한다.
- 참조형
  - 데이터에 접근하기 위한 참조 주소를 저장하는 데이터 타입.
  - 객체 혹은 배열, 개발자가 만든 클래스 등에 사용된다.
  - String은 참조형이지만, 기본형처럼 사용할 수 있도록 자바에서 편의를 제공한다.
  - null
    - 참조형의 초기값은 null이다. 
    - 참조형 변수에는 가리키는 대상이 없거나 나중에 입력하고 싶은 경우 null 이라는 값을 넣을 수 있다.
    - 결국 아무도 참조하지 않게 되는 인스턴스는 GC에 의해 메모리에서 제거된다.

## 3. 객체지향 프로그래밍

- 절차 지향 프로그래밍이란? (Procedual Programming)
  - 실행 순서를 중요하게 생각하는 방식
  - 프로그램의 흐름을 순차적으로 따르며 처리
- 객체 지향 프로그래밍이란? (Object Oriented Programming)
  - 이름 그대로 객체를 지향. 객체를 중요하게 생각하는 방식
  - 실제 세계의 사물이나 사건을 보고, 이러한 객체들 간의 상호작용을 중심으로 프로그래밍 하는 방식.
- 둘의 중요한 차이
  - 절차 지향은 데이터와 해당 데이터에 대한 처리 방식이 분리되어 있음.
  - 객체 지향은 데이터와 그 데이터에 대한 행동이 하나의 객체 안에 함께 포함되어 있음.

### 객체 지향 프로그래밍의 특징 - 캡슐화
  - 객체의 속성과 기능을 하나로 묶어, 필요한 기능을 메서드를 통해 외부에 제공하는 것
  - 속성과 기능이 한곳에 있기 때문에 유지보수성이 좋아진다.

## 4. 생성자

- 생성자는 객체(인스턴스) 생성 이후 초기화를 하기 위한 특별한 메서드로 생각할 수 있다.
- 생성자는 객체를 생성하는 시점에 특정 작업을 하고싶을때 사용할 수 있다.
- 클래스는 기본 생성자를 가지고 있으며, 생성자를 선언할 경우 기본 생성자는 생기지 않는다.
  - 이를 이용해 컴파일 단계에서 혹시 모를 버그를 방지할 수 있다.
  - 생성자 또한 메서드 오버로딩을 이용해 여러개 선언할 수 있다.
  - 생성자에서 this()를 이용해 중복되는 코드를 줄일 수 있다.

## 5. 패키지

- 프로젝트가 커질수록 파일을 잘 정리할 수 있어야한다.
- 패키지는 계층구조로 이루어져 있으며, 하위 경로에 있더라고 포함하는 것이 아닌 각기 다른 독립적인 패키지이다.
- 다른 패키지에 있는 클래스 등을 가져오기 위해선 import 키워드를 이용해야 한다.
- 패키지를 구성할 때 관련된 클래스를 하나의 패키지에서 관리하는 것이 좋다.

### 패키지 규칙
- 패키지 이름과 위치는 폴더 위치와 동일해야 한다.
- 패키지 이름은 일반적으로 소문자를 사용한다.
- 패키지 이름의 앞부분은 일반적으로 회사 도메인을 거꾸로 사용한다 (ex: com.company.shopping...)

## 6. 접근 제어자

- 접근 제어자의 종류
  - private : 모든 외부 호출을 막는다
  - default : 같은 패키지 내에서 호출할 수 있다.
  - protected : 같은 패키지 및 상속 관계에서 호출을 허용한다.
  - public : 모든 호출을 허용한다.

### 멤버 변수와 메서드의 접근제어
- 클래스 멤버 변수는 외부가 아닌 클래스 내부에서 열린 기능에 의해 바뀌는게 객체지향적이다.
  - 따라서 일반적으로 멤버 변수는 private을 이용한다
- 메서드의 경우 클래스 내부에서만 사용하는 메서드는 private을 사용한다.
  - 외부에서 클래스에 접근해 값을 얻어야 하는 경우, 해당 메서드는 public을 이용한다.

### 클래스와 멤버 변수의 접근 제어 차이
- 클래스 내 멤버 변수에는 4가지 접근 제어자를 사용할 수 있다.
- 클래스 앞에서는 public, default 키워드만 사용할 수 있다.
  - public 키워드는 클래스 내부에서 한번만 사용할 수 있다.
  - default 키워드는 여러번 사용할 수 있다.

### 접근 제어와 캡슐화
- 다양한 접근 제어자를 이용해 멤버 변수를 숨기고, 메서드를 외부에 여는것이 캡슐화의 기본이라 할 수 있다.
- 메서드 또한 모두 여는것이 아닌, 외부에서 필요한 메서드만 열어주어야 추후 협업시 오해를 덜 수 있다.
- 데이터는 가능한 한 모두 숨기고, 꼭 필요한 기능만 열어주는 것이 좋은 캡슐화이다.

## 7. 자바 메모리 구조와 static

- 자바 메모리 구조는 아래 세 영역으로 이루어져 있다.
  - 메서드 영역 - 프로그램을 실행하는데 필요한 공통 데이터를 관리한다.
    - 클래스, 런타임 상수 풀, static 등
  - 스택 영역 - 실제 프로그이 실행하는 메서드 정보 보관
    - 자바 실행 시 실행 스택을 생성한다. 메서드를 실행하면 각 스택 프레임을 만들며 메서드가 종료되면 스택 프레임을 제거한다.
  - 힙 영역 - 객체, 즉 인스턴스가 생성되는 영역.
    - 객체와 배열 등이 생성되는 영역. 가바지 컬렉션이 이루어지는 영역이며, 참조되지 않는 객체는 GC에 의해 제거된다.

## 8. final 키워드

- final은 유용하게 사용할 수 있는 제약이다.
- 특정 변수의 값을 할당한 이후 변경하지 않아야 하면 final을 사용하자.
- 모든 인스턴스에서 공통으로 사용할 상수값은 static final을 활용하자.

## 9. 상속

- 상속은 객체 지향 프로그래밍의 핵심 요소중 하나로, 기존 클래스의 필드와 메서들르 새로운 클래스에서 재활용한다.
  - 부모 클래스 : 상속을 통해 자신의 필드와 메서드를 다른 클래스에 제공
  - 자식 클래스 : 부모 클래스로부터 필드와 메서드를 상속받는 클래스
- 상속은 extends 키워드를 이용하며, 한번에 부모를 2개 이상 가질 수 없다.
  - 인터페이스의 다중 구현을 허용하면 이러한 문제를 해결할 수 있다.
- 만약 클래스에 final 키워드를 사용하면 더이상 상속이 불가능하고, 메서드에 사용하면 오버라이딩이 불가능하다.

### 상속과 메모리 구조

- 부모를 상속하는 자식 클래스를 인스턴스화 하면 아래와 같이 생성된다.
  - 인스턴스의 참조값을 생성한다.
  - 이때, 자식 클래스와 부모 클래스를 포함해 인스턴스를 생성한다.
  - 즉 상속하는 클래스 수 만큼 인스턴스가 생성되고 참조값에 포함된다. 
  - 결과적으로, 상속 관계에서 생성자 호출은 부모에서 자식 순서대로 진행된다.
- 이때 여러가지 인스턴스 중 어떤것을 호출할지는, 호출하는 변수의 타입(클래스)를 기준으로 선택한다.
  - 만약 호출하고자 하는 메서드가 호출하는 변수의 클래스에 없다면, 부모 클래스에서 찾는다.
  - 만약 찾지 못한다면 컴파일 에러가 발생한다.
- 부모의 메서드를 오버라이딩 하면, 자식 클래스에서 호출 후 부모 클래스에서 찾아보지 않는다.

### 오버로딩과 오버라이딩

- 오버로딩
  - 매개변수가 다른 동일한 이름의 메서드를 여러개 생성하는것
- 오버라이딩
  - 하위 클래스에서 상위 클래스의 메서드를 재정의하는 과정.

### super

- super 를 이용하면 자식 클래스에서 부모 클래스를 참조할 수 있다.
- 이를 이용해 부모의 멤버 변수 및 메서드를 사용할 수 있다.
- 자식 클래스의 생성자 함수 작성시, 부모가 기본 생성자가 없다면 반드시 super를 이용해 생성자 함수를 작성해야 한다.

## 10. 다형성

- 프로그래밍에서 다형성은 한 객체가 여러 타입의 객체로 취급될 수 있는 능력을 말한다.
- 다형성을 이해하기 위해서는 아래 두 개념을 이해해야 한다.
  - 다형적 참조
  - 메서드 오버라이딩

### 다형적 참조

- 부모와 자식 클래스가 있을 때, 타입은 부모로 선언하지만 자식의 인스턴스를 할당할 수 있다.
- 자바에서는 부모타입은 물론이고, 자신을 기준으로 모든 자식 타입을 참조할 수 있다.

### 다형성과 메서드 오버라이딩

- 자식에서 부모의 메서드를 오버라이딩 하면, 부모에서 메서드를 호출해도 자식의 메서드가 호출된다.
- 즉 오버라이딩 된 메서드는 항상 우선권을 가진다.

### 추상 클래스

- 실제로 생성하면 안되는 클래스를 추상 클래스라고 부른다.
- 인스턴스화 할 수는 없지만, 상속을 목적으로 사용하며 부모 클래스 역할을 담당한다.

### 추상 메서드

- 부모 클래스를 상속 받는 자식 클래스가 반드시 오버라이딩 해야 하는 메서드를 부모 클래스에 정의할 수 있다.
- 추상 클래스와 같이 실체가 존재하지 않으며, 메서드 바디가 없다.
- 추상 메서드가 하나라도 있는 클래스는 추상 클래스로 선언해야 한다.
  - 모든 메서드가 추상 메서드이면 순수 추상 클래스
  - 순수 추상 클래스는 단지 다형성을 위한 부모 타입으로서 존재한다.
  - 순수 추상 클래스의 특징
    - 인스턴스를 생성해야 한다
    - 상속시 자식은 모든 메서드를 오버라이딩 해야 한다
    - 주로 다형성을 위해 사용된다.

### 인터페이스

- 자바는 순수 추상 클래스를 인터페이스 라는 것으로 구현해 놓았다.
  - 인터페이스는 멤버 변수를 가질 수 있다.
    - 멤버 변수는 public static final 이며, 생략 가능하다.
  - 인터페이스의 모든 메서드는 모두 public abstract이다.
    - 메서드에 위 키워드를 생략할 수 있으며, 이를 권장한다.
  - 인터페이스는 클래스와 달리 다중 구현(다중 상속)을 지원한다.

### 순수 추상 클래스 vs 인터페이스

- 제약
  - 인터페이스의 메서드는 반드시 구현(오버라이딩)해야함
    - 따라서 누군가 실행가능한 메서드를 추가하게 되는 문제가 발생할 일이 없음.
  - 다만 순수 추상 클래스의 경우 추후 실행 가능한 메서드를 끼워넣을 수 있음
    - 이럴 경우, 더 이상 순수 추상 클래스가 아니게 됨.
- 다중 구현
  - 자바에서 클래스 상속은 부모를 하나만 지정할 수 있음.
  - 반면 인터페이스는 다중 구현(다중 상속)이 가능함
    - 클래스는 메서드가 구현이 되어있을 수 있지만, 인터페이스는 모두 추상 메서드로 이루어져 있기 때문.

## 11. 다형성과 설계

- 객체 지향 프로그래밍
  - 객체 지향 프로그래밍은 컴퓨터 프로그램을 명령어의 목록으로 보는 시각에서 벗어나 여러개의  
    독립된 단위, 즉 객체들의 모임으로 파악하고자 하는것.
  - 객체 지향 프로그래밍은 프로그램을 유연하고 변경이 용이하게 만들기 때문에 많이 사용된다.

### 역할과 구현을 분리
- 역할과 구현으로 구분하면 좀더 단순하고 유연하며 변경이 편리해진다
  - 클라이언트는 대상의 역할(인터페이스)만 알면 된다.
  - 클라이언트는 구현 대상의 내부 구조를 몰라도 된다.
    - 내부 구조가 변경되어도 영향받지 않는다.
  - 클라이언트는 구현 대상 자체를 변경해도 영향받지 않는다.
- 자바 언어의 다형성을 활용할 수 있다.
  - 역할 - 인터페이스
  - 구현 - 인터페이스를 구현한 클래스
- 객체 설계시 역할과 구현을 명확히 분리
- 역할을 먼저 부여하고, 그 역할을 수행하는 구현 객체 만들기

### 다형성의 본질
- 인터페이스를 구현한 객체 인스턴스를 실행 시점에 유연하게 변경 가능
- 다형성의 본질을 이해하려면 협력이라는 객체사이의 관계에서 시작
- 클라이언트를 변경하지 않고, 서버의 구현 기능을 유연하게 변경 가능
- 스프링의 핵심인 제어의 역전, 의존관계 주입도 결국 다형성을 활용하는 것.